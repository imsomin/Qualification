# 인터페이스 구현

## (5-1) 인터페이스 설계 확인

### 1. 시스템 인터페이스
- 인터페이스는 크게 사용자 인터페이스와 시스템 인터페이스로 구분됨
- 시스템 인터페이스 설계서는 이기종 시스템 및 컴포넌트 간 데이터 교환 및 처리를 위해 각 시스템의 교환되는 데이터, 업무, 송수신 주체 등이 정의된 문서임
- 시스템의 인터페이스 현황 파악을 위해서 인터페이스 목록 및 각 인터페이스의 상세 데이터 명세, 각 기능의 세부 인터페이스 정보를 정의한 문서
- 상세 기능별 인터페이스 명세서 주요 항목
  - 인터페이스 ID
  - 인터페이스 명
  - 오퍼레이션 명
  - 오퍼레이션 개요
  - 사전 조건
  - 사후 조건
  - 파라미터 
  - 반환 값


### 2. 송/수신 시스템 간 인터페이스 데이터 표준 확인 절차
- 1 데이터 인터페이스 입/출력 의미 파악
- 2 (1)을 통한 데이터 표준 확인
- 3 인터페이스 데이터 항목 식별
- 4 데이터 표준 최종 확인


___



## (5-2) 인터페이스 기능 구현

### 1. 모듈 간 세부 설계서 확인
- 각 모듈의 컴포넌트 명세서와 인터페이스 명세서 등 세부 설계서를 확인하여 인터페이스에 필요한 기능 확인
- 1) 컴포넌트 명세서
  - 컴포넌트의 개요, 내부 클래스의 동작, 인터페이스를 통해 외부와 통신하는 명세를 정의
  - 컴포넌트(Component): 특정한 기능을 수행하기 위해 독립적으로 개발되어 보급되는, 잘 정의된 인터페이스를 가지며 다른 부품과 조립되어 응용시스템을 구축하기 위해 사용되는 소프트웨어 프로그램
- 2) 인터페이스 명세서
  - 컴포넌트 명세서에 명시된 인터페이스 클래스의 세부적인 조건 및 기능을 명시한 명세서
  - 인터페이스 명칭, 사전/사후 조건, 인터페이스 데이터 및 인터페이스 완료 후 성공 여부를 반환받는 반환 값 등 정의


### 2. 인터페이스 기능 구현 기술 (1)JSON(Javascript Object Notation)
- 속성-값(Attribute-Value Pair) 쌍 또는 "키-값 쌍"으로 이루어진 데이터 오브젝트를 전달하기 위해 인간이 읽을 수 있는 텍스트를 사용하는 개방형 표준 포맷
- AJAX(Asynchronous JavaScript and XML)에서 많이 사용되고 XML을 대체하는 주요 데이터 포맷
- 언어 독립형 데이터 포맷으로 다양한 데이터 프로그래밍 언어에서 사용
- 사람이 읽고 쓰기에 용이하며, 기계가 분석하고 생성하기에 용이함
- JSON 표현 자료형
  |자료형|사례|
  |:--:|:--:|
  |숫자|74, 3.14, 3.4e+4|
  |문자열|"ABCD","1234"|
  |배열|[ 10, {"v":20}, [30, "마흔"] ]|
  |객체|{"name1":40, "name2":"값2", "name3":true }|
- JSON 구조
  - name/value 쌍으로 구성
  - 중괄호{} 로 구성
  - 배열은 대괄호[] 로 나타냄
- JSON 도구
  - Parser : JSON 파일을 해석하고 자바 오브젝트로 변환
  - Renderer : 자바를 text로 표현
  - Serializer : POJO를 JSON 표현으로 직렬화
  - Mapper : POJO와 JSON을 매핑
  - Validator : JSON 스키마를 이용해서 파일 내용 유효성 체크
- JSON 장점 및 단점
  |장점|단점|
  |:--:|:--:|
  |XML보다 가볍고 빠름, 자료 종류에 제한 없음, Javascript 코드 안에서 JSON 객체에 접근 쉬움|태그가 없어 가독성 떨어짐, DTD 없어 데이터 형식 체크 어려움|


### 2-1. 인터페이스 기능 구현 기술 (2)XML(Extensible Markup Language)
- HTML의 단점을 보완한 인터넷 언어로 SGML의 복잡한 단점을 개선한 마크업 언어
- 송/수신 시스템 간 데이터 연계의 편의성을 위해서 전송되는 데이터 구조를 동일한 형태로 정의
- 인간과 기계가 모두 이해할 수 있는 텍스트 형태로 마크업 포맷을 정의하기 위한 메타언어
- 사용자가 직접 문서의 태그를 정의할 수 있으며, 다른 사용자가 정의한 태그 사용 가능
- XML 작성 규칙
  - 트리 구조로 구성, 상위 태그는 여러 개의 하위 태그 가질 수 있음
  - 모든 태그는 종료 태그 가짐, 시작 태그와 종료 태그의 요소 명칭은 동일해야 함
  - 태그의 여닫는 순서 지키기, 띄어쓰기 인식
  - 속성값은 반드시 큰따옴표("")로 묶어주어야 함, 대소문자 구분
- XML 구성 : XML 프롤로그, XML 요소
  - XML 프롤로그 : < ?xml version="XML문서버전"encoding="언어셋" standalone="yes|no"? >
    - version : XML문서에 사용된 버전 명시
    - encoding : XML의 언어셋 명시, 생략 가능, 기본값 UTF-8
    - standalone : 해석 시 외부 문서의 참조 여부 명시, 생략 시 기본값 no
  - XML 요소 : < 요소이름 속성1="속성값" 속성2="속성값" ... >내용</ 요소이름>
  

### 2-2. 인터페이스 기능 구현 기술 (3)AJAX(Asynchronous Javascript And XML)
- 자바스트립트를 사용하여 웹 서버와 클라이언트 간 비동기적으로 XML 데이터를 교환하고 조작하기 위한 웹 기술
- 브라우저가 가지고 있는 XMLHttpRequest 객체를 이용해서 전체 페이지를 새로 로드하지 않고 필요한 일부 페이지의 데이터만을 로드하는 기법
- 하이퍼텍스트 표기 언어(HTML)만으로는 어려운 다양한 작업을 웹 페이지에서 구현해서 이용자가 웹 페이지와 자유롭게 상호 작용할 수 있도록 구현하는 기법
- AJAX 주요 기술
  |주요 기술|설명|
  |:--:|:--:|
  |XMLHttpRequest|비동기 통신을 담당하는 자바스크립트 객체|
  |JavaScript|객체 기반의 스크립트 프로그래밍 언어|
  |XML||
  |DOM|Document Object Model, XML 문서를 트리 구조의 형태로 접근할 수 있게 해주는 API|
  |XSLT|XML 문서를 다른 XML 문서로 변환하는 데 사용하는 XML 기반 언어 |
  |HTML|인터넷 웹(WWW) 문서를 표현하는 표준화된 마크업 언어|
  |CSS|마크업 언어가 실제 표시되는 방법을 기술하는 언어|
- AJAX 동작 원리
  - 1 사용자에 의한 요청 이벤트 발생  
  2 이벤트 핸들러에 의해 자바스크립트 호출  
  3 자바스크립트는 XMLHttpRequest 객체 사용하여 서버로 요청(웹 브라우저는 서버의 응답 기다릴 필요 없음)  
  4 서버는 전달받은 XMLHttpRequest 객체를 가지고 AJAX 요청 처리  
  5 서버는 처리한 결과를 HTML, XML, JSON 형태의 데이터로 웹 브라우저에 전달  
  6 서버로 전달받은 데이터를 가지고 웹 페이지의 일부분만을 갱신하는 자바스크립트 호출  
  7 결과적으로 웹 페이지의 일부분만이 다시 로딩되어서 표시  


### 2-3. 인터페이스 기능 구현 기술 (4)REST(Representational State Transfer)
- 웹과 같은 분산 하이퍼미디어 환경에서 자원의 존재/상태 정보를 표준화된 HTTP 메서드로 주고받는 웹 아키텍처
- 기본 형태 : 리소스(자원), 메서드(처리), 메시지
- 특징
  - 클라이언트/서버 구조 : 서로 간 의존성 축소
  - 무 상태성 : 서버에서 불필요한 정보 관리 안함
  - 일관된 인터페이스
  - 캐시 처리 가능
  - 자체 표현 구조 : API 메시지 자체만 보고도 직관적으로 이해할 수 있는 구조 가짐


### 3. 인터페이스 구현
- (1) 데이터 통신을 사용하는 인터페이스 구현
  - 인터페이스 객체 생성 구현
  - 인터페이스 객체 전송 후 전송 결과를 수신 측에서 반환받도록 구현
- (2) 인터페이스 개체(Entity)를 사용하는 인터페이스 구현
  - 송신 시스템의 인터페이스 테이블 : DB 커넥션, 프로시저, 트리거, 배치 작업
  - 수신 시스템의 인터페이스 테이블


### 4. 인터페이스 예외 처리 방안
- (1) 데이터 통신을 사용한 인터페이스 예외 처리 방법
  - 송신 측에서 예외 처리 : 사전 정의 ex)404 오류
  - 수신 측에서 예외 처리 : try ~ catch 구문 이용
- (2) 인터페이스 개체(Entity)를 사용하는 인터페이스에서 예외 처리 방법
  - 송신 인터페이스 테이블에서 예외 처리 : 인터페이스 데이터 생성, 테이블 입력, 데이터 전송
  - 수신 인터페이스 테이블에서 예외 처리 : 인터페이스 데이터 읽기, 데이터 트랜잭션, 처리 결과 응답


### 5. 인터페이스 보안 기능 - 시큐어 코딩 가이드
- 인터페이스 개발 시 보안 취약점을 방지할 수 있는 시큐어 코딩 가이드에 따른 개발 수행 필요
- 적용 대상
  - 입력데이터 검증 및 표현
  - 보안 기능
  - 시간 및 상태
  - 에러 처리
  - 코드 오류
  - 캡슐화
  - API 오용


### 5-1. 인터페이스 보안 기능 - 데이터베이스 보안 적용
- 데이터베이스 암호화 알고리즘
  - 대칭 키 암호화 알고리즘: 암/복호화에 같은 암호 키를 쓰는 알고리즘 ex)SEED
  - 비대칭 키 암호화 알고리즘: 공개키와 비밀키 사용 ex)RSA
  - 해시 암호화 알고리즘: 해시값으로 원래 입력값을 찾아낼 수 없는 일방향성의 특성을 가진 알고리즘
- 데이터베이스 암호화 기법
  - API 방식: 애플리케이션 서버에 암/복호화, 정책 관리, 키 관리 등의 부하 발생
  - Plug-in 방식: 암/복호화 모듈이 DB 서버에 설치된 방식
  - TDE 방식: 내장되어있는 암호화 기능(Transparent Data Encryption) 이용
  - Hybrid 방식: API 방식과 Plug-in 방식 결합
- +) 민감 데이터(Sensitive Data)의 익명화 처리 방안
  - 가명 처리, 총계 처리/평균값 대체, 범주화, 데이터값 삭제, 데이터 마스킹


### 5-2. 인터페이스 보안 기능 - 중요 인터페이스 데이터의 암호화 전송
- IPSec(IP Security)
  - IP계층(3계층)에서 무결성과 인증을 보장하는 인증 헤더(Authentication Header)와 기밀성을 보장하는 암호화(Encapsulating Security Payload)를 이용하여 양 종단 간(End Point) 구간에 보안 서비스를 제공하는 터널링 프로토콜
  - 주요 프로토콜 : AH, ESP, IKE(키 교환)
  - IPSEC 정책 : SPD, SAD
- SSL/TLS
  - 전송계층(4계층)과 응용계층(7계층) 사이에서 클라이언트와 서버 간의 웹 데이터 암호화, 상호 인증 및 전송 시 데이터 무결성을 보장하는 보안 프로토콜
  - IPSec와는 다르게 클라이언트와 서버 간에 상호인증, 암호 방식에 대해 협상을 거치는 특징
  - Https ://~ 표시 형식과 443 포트 이용
- S-HTTP(Secure Hypertext Transfer Protocol)
  - 웹상에서 네트워크 트래픽을 암호화하는 주요 방법 중 하나로서 클라이언트와 서버 간에 전송되는 모든 메시지를 각각 암호화하여 전송
  - 접속 시 shttp :// URL 사용


___



## (5-3) 인터페이스 구현 검증

### 1. 인터페이스 구현 검증 도구
|도구|설명|
|:--:|:--:|
|xUnit|자바,C++,.Net 등 다양한 언어를 지원하는 단위(→함수, 클래스)테스트 프레임워크|
|STAF|서비스 호출, 컴포넌트 재사용 등 다양한 환경 지원 테스트 프레임워크, 각 테스트 대상 분산 환경에 데몬 사용|
|FitNesse|웹 기반 테스트 케이스 설계/실행/결과 확인 등을 지원하는 테스트 프레임워크|
|NTAF|FitNesse의 장점인 협업 기능과 STAF의 장점인 재사용 및 확장성을 통합한 NHN의 테스트 자동화 프레임워크|
|Selenium|다양한 브라우저 지원 및 개발언어를 지원하는 웹 애플리케이션 테스트 프레임워크|
|watir|루비 기반, 모든 언어 기반의 웹 애플리케이션 테스트와 브라우저 호환성 테스팅 가능|


### 2. 인터페이스 감시 도구
- 인터페이스의 동작이 잘 진행되는지 지속적으로 확인하기 위해서는 애플리케이션 모니터링 툴(APM)을 사용하여 동작 상태 감시
- 데이터베이스, 웹 애플리케이션의 트랜잭션과 변숫값, 호출 함수, 로그 및 시스템 부하 등 종합적인 정보를 조회하고, 커넥션 풀 등 지속적인 모니터링이 필요한 자원을 효과적으로 관리 가능
- 감시 도구
  - 스카우터(SCOUTER) : 애플리케이션에 대한 모니터링 및 DB Agent를 통해 오픈 소스 DB 모니터링 기능, 인터페이스 감시 기능 제공
  - 제니퍼(Jennifer) : 애플리케이션의 개발부터 테스트, 오픈, 운영, 안정화까지 전 생애주기 단계 동안 성능을 모니터링하고 분석해주는 APM 소프트웨어


### 3. 인터페이스 오류 처리 방법
- 사용자 화면에서 오류를 인지하도록 구현
- 인터페이스 오류 로그 생성
- 인터페이스 관련 테이블에 오류 사항 기록




